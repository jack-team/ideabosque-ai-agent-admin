import{k as e,K as G,r as k,D as l}from"../chunks/vendor-BASRo5BV.js";import{f as h}from"../assets/index-a3n_qMTh.js";import{T as z}from"../chunks/index-BSDmC2OP.js";import{g as x,A as I,W as p,k as U,f as j,P as A,S as f,i as B,m as P,B as g}from"../chunks/ui-CrIkMfD8.js";import{I as w}from"../chunks/index-CNAIOIDt.js";import{i as S,d as D,g as N}from"../chunks/wizard-BPNZXcgu.js";import{b as C,u as b}from"../chunks/hooks-CKqr3Hp3.js";import"../chunks/utils-BMDVF5td.js";import"../chunks/index-B4mFbccR.js";import"../chunks/generate-BNkr4RNj.js";const v=a=>({...a,updatedBy:"Admin"}),F=a=>{const[s]=x.useForm(),{message:o}=I.useApp(),[i]=C();return b(async()=>{var n;const d=await s.validateFields(),c=v(d);try{await S(c),i(),(n=a.onSuccess)==null||n.call(a),o.success("UI Block Group created successfully.")}catch{o.error("Failed to create UI Block Group.")}}),e.jsxs(x,{form:s,submitter:!1,style:{padding:"24px 0 0 0"},children:[e.jsx(p,{hidden:!0,name:"wizardUuid"}),e.jsx(p,{label:"UI Block Group name",name:"wizardGroupName",rules:[{required:!0}]}),e.jsx(U,{label:"UI Block Group description",name:"wizardGroupDescription",rules:[{required:!0}]}),e.jsx(p,{label:"Weight",name:"weight",fieldProps:{type:"number"},rules:[{required:!0}]})]})},$=()=>{const{modal:a,message:s}=I.useApp(),o=G(),i=k.useRef(null),d=l(()=>{var r;(r=i.current)==null||r.reload()}),c=l(r=>{o(`/wizard-group/${r}`)}),n=l(r=>{a.confirm({title:"Are you sure you want to delete?",okText:"Delete",okButtonProps:{danger:!0,className:"shopify"},cancelButtonProps:{className:"shopify gray"},onOk:async()=>{try{await D({wizardGroupUuid:r.wizardGroupUuid}),d(),s.success("Deletion successful.")}catch(t){return s.error("Deletion failed."),Promise.reject(t)}}})});return e.jsx(j,{title:"UI Block Groups",extra:e.jsxs(f,{size:16,children:[e.jsx(g,{className:"shopify gray",onClick:()=>o("/wizards"),children:"Blocks"}),e.jsx(z,{width:600,className:"shopify",title:"Create new UI Block Group",trigger:e.jsx(g,{className:"shopify",type:"primary",children:"Create new UI Block Group"}),children:e.jsx(F,{})})]}),children:e.jsx(A,{actionRef:i,search:!1,options:!1,scroll:{x:"max-content"},rowKey:"agentUuid",className:"shopify",request:async r=>{const{current:t,pageSize:u,...y}=r,{wizardGroupList:m}=await N({limit:u,pageNumber:t,...y});return{total:m.total,data:m.wizardGroupList}},columns:[{title:"UI Block Group name",dataIndex:"wizardGroupName"},{title:"UI Block Group UUID",dataIndex:"wizardGroupUuid",hideInSearch:!0},{title:"Weight",dataIndex:"weight",hideInSearch:!0},{title:"Create at",dataIndex:"createdAt",hideInSearch:!0,render:(r,t)=>h(t.createdAt)},{title:"Last updated",dataIndex:"updatedAt",hideInSearch:!0,render:(r,t)=>h(t.updatedAt)},{width:"100px",key:"action",title:"Action",fixed:"right",hideInSearch:!0,render:(r,t)=>{const u=t.wizardGroupUuid;return e.jsxs(f,{children:[e.jsx(w,{icon:B,onClick:()=>c(u)}),e.jsx(w,{icon:P,onClick:()=>n(t)})]})}}]})})};export{$ as default};
