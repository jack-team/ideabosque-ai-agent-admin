import{k as e,K as x}from"../chunks/vendor-BASRo5BV.js";import{I as h}from"../chunks/index-CNAIOIDt.js";import{b as p,f as l}from"../assets/index-BGypb0Zl.js";import{T as g}from"../chunks/index-D0EwFrhZ.js";import{g as t,v as d,R as m,a as n,f as j,P as f,S as I,K as b}from"../chunks/ui-CrIkMfD8.js";import{L as r}from"../chunks/index-8Ay-V5LL.js";import{g as y}from"../chunks/generate-BFVzGyhc.js";import"../chunks/utils-BMDVF5td.js";import"../chunks/index-CTOi45Ex.js";const D=i=>{const{formData:s}=i,[a]=t.useForm();return e.jsxs(t,{form:a,disabled:!0,submitter:!1,initialValues:s,style:{padding:"24px 0"},children:[e.jsx(t.Item,{label:"Role",name:"role",children:e.jsx(r,{})}),e.jsx(t.Item,{name:"message",label:"Message",children:e.jsx(r,{pre:!0})}),e.jsx(d,{orientation:"left",children:"Run Details"}),e.jsxs(m,{gutter:16,children:[e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Prompt Tokens",name:["run","prompt_tokens"],children:e.jsx(r,{})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Completion Tokens",name:["run","completion_tokens"],children:e.jsx(r,{})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Total Tokens",name:["run","total_tokens"],children:e.jsx(r,{})})})]}),e.jsx(d,{orientation:"left",children:"Thread Details"}),e.jsxs(m,{gutter:16,children:[e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Agent UUID",name:["run","thread","agent_uuid"],children:e.jsx(r,{})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Thread UUID",name:["run","thread","thread_uuid"],children:e.jsx(r,{})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"User ID",name:["run","thread","user_id"],children:e.jsx(r,{})})})]})]})},T=async i=>{const s=await y({type:"Query",name:"messageList"});return p.graphql({query:s,variables:i})},C=()=>{const i=x();return e.jsx(j,{title:"Messages",onBack:()=>i(-1),children:e.jsx(f,{search:!1,options:!1,pagination:{defaultPageSize:5},scroll:{x:"max-content"},rowKey:"questionGroupUuid",className:"shopify",request:async s=>{const{current:a,pageSize:c,...u}=s,{messageList:o}=await T({limit:c,pageNumber:a,...u});return{total:o.total,data:o.messageList}},columns:[{title:"Message UUID",dataIndex:"messageUuid"},{title:"Role",dataIndex:"role"},{title:"Create at",dataIndex:"createdAt",hideInSearch:!0,render:(s,a)=>l(a.createdAt)},{title:"Update at",dataIndex:"updatedAt",hideInSearch:!0,render:(s,a)=>l(a.updatedAt)},{width:"80px",key:"action",title:"Action",align:"center",fixed:"right",hideInSearch:!0,render:(s,a)=>e.jsx(I,{children:e.jsx(g,{width:710,hasFooter:!1,destroyOnHidden:!0,className:"shopify",title:"Message Details",trigger:e.jsx(h,{icon:b}),children:e.jsx(D,{formData:a})})})}]})})};export{C as default};
