import{k as e,K as d}from"../chunks/vendor-BASRo5BV.js";import{I as c}from"../chunks/index-CNAIOIDt.js";import{b as u,f as l}from"../assets/index-BYkTdspT.js";import{T as x}from"../chunks/index-BW40YW2L.js";import{g as t,v as p,b as h,f as g,P as j,S as y,K as I}from"../chunks/ui-CrIkMfD8.js";import{L as a}from"../chunks/index-8Ay-V5LL.js";import{g as f}from"../chunks/generate-D159FBiF.js";import"../chunks/utils-BMDVF5td.js";import"../chunks/index-CV5W7j9Q.js";const T=r=>{const{formData:n}=r,[s]=t.useForm();return e.jsxs(t,{form:s,submitter:!1,initialValues:n,style:{padding:"24px 0"},children:[e.jsx(t.Item,{label:"Function Name",name:"functionName",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Status",name:"status",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Time Spent",name:"timeSpent",children:e.jsx(a,{})}),e.jsx(p,{orientation:"left",children:"Arguments"}),e.jsxs(h,{className:"shopify",style:{marginBottom:24},children:[e.jsx(t.Item,{label:"Agent UUID",name:["arguments","agent_uuid"],children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Run UUID",name:["arguments","run_uuid"],children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Stream",name:["arguments","stream"],children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Thread UUID",name:["arguments","thread_uuid"],children:e.jsx(a,{})}),e.jsx(t.Item,{label:"User Query",name:["arguments","user_query"],children:e.jsx(a,{pre:!0})})]}),e.jsx(t.Item,{name:"notes",label:"Notes",children:e.jsx(a,{})}),e.jsx(t.Item,{name:"result",label:"Result",children:e.jsx(a,{})})]})},b=async r=>{const n=await f({type:"Query",name:"asyncTaskList"});return u.graphql({query:n,variables:r})},F=()=>{const r=d();return e.jsx(g,{title:"Async Tasks",onBack:()=>r(-1),children:e.jsx(j,{pagination:{pageSize:5},search:!1,options:!1,scroll:{x:"max-content"},rowKey:"asyncTaskUuid",className:"shopify",request:async n=>{const{current:s,pageSize:o,...m}=n,{asyncTaskList:i}=await b({limit:o,pageNumber:s,...m});return{total:i.total,data:i.asyncTaskList}},columns:[{title:"Async Task UUID",dataIndex:"asyncTaskUuid"},{title:"Function Name",dataIndex:"functionName"},{title:"Status",dataIndex:"status"},{title:"Time Spent",dataIndex:"timeSpent"},{title:"Create at",dataIndex:"createdAt",hideInSearch:!0,render:(n,s)=>l(s.createdAt)},{title:"Update at",dataIndex:"updatedAt",hideInSearch:!0,render:(n,s)=>l(s.updatedAt)},{width:"80px",key:"action",title:"Action",align:"center",hideInSearch:!0,fixed:"right",render:(n,s)=>e.jsx(y,{children:e.jsx(x,{width:620,hasFooter:!1,destroyOnHidden:!0,className:"shopify",title:"Async Task Details",trigger:e.jsx(c,{icon:I}),children:e.jsx(T,{formData:s})})})}]})})};export{F as default};
