import{y as t,j as e,a7 as l,n as d,o as n,w as x,x as h,P as p,S as g,at as j}from"./libs-BaOSQqCJ.js";import{I as f}from"./index-CjwgjA-6.js";import{a as I,f as c}from"./index-C-v-jDs8.js";import{T as y}from"./index-gYxfleuv.js";import{L as r}from"./index-CprjUkS9.js";import{g as b}from"./generate-U-Zjqbd8.js";import"./index-Dw-maCiw.js";const D=i=>{const{formData:s}=i,[a]=t.useForm();return e.jsxs(t,{form:a,disabled:!0,submitter:!1,initialValues:s,style:{padding:"24px 0"},children:[e.jsx(t.Item,{label:"Role",name:"role",children:e.jsx(r,{})}),e.jsx(t.Item,{name:"message",label:"Message",children:e.jsx(r,{pre:!0})}),e.jsx(l,{orientation:"left",children:"Run Details"}),e.jsxs(d,{gutter:16,children:[e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Prompt Tokens",name:["run","prompt_tokens"],children:e.jsx(r,{})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Completion Tokens",name:["run","completion_tokens"],children:e.jsx(r,{})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Total Tokens",name:["run","total_tokens"],children:e.jsx(r,{})})})]}),e.jsx(l,{orientation:"left",children:"Thread Details"}),e.jsxs(d,{gutter:16,children:[e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Agent UUID",name:["run","thread","agent_uuid"],children:e.jsx(r,{})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"Thread UUID",name:["run","thread","thread_uuid"],children:e.jsx(r,{})})}),e.jsx(n,{span:8,children:e.jsx(t.Item,{label:"User ID",name:["run","thread","user_id"],children:e.jsx(r,{})})})]})]})},T=async i=>{const s=await b({type:"Query",name:"messageList"});return I.graphql({query:s,variables:i})},v=()=>{const i=x();return e.jsx(h,{title:"Messages",onBack:()=>i(-1),children:e.jsx(p,{search:!1,options:!1,pagination:{defaultPageSize:5},scroll:{x:"max-content"},rowKey:"questionGroupUuid",className:"shopify",request:async s=>{const{current:a,pageSize:m,...u}=s,{messageList:o}=await T({limit:m,pageNumber:a,...u});return{total:o.total,data:o.messageList}},columns:[{title:"Message UUID",dataIndex:"messageUuid"},{title:"Role",dataIndex:"role"},{title:"Create at",dataIndex:"createdAt",hideInSearch:!0,render:(s,a)=>c(a.createdAt)},{title:"Update at",dataIndex:"updatedAt",hideInSearch:!0,render:(s,a)=>c(a.updatedAt)},{width:"80px",key:"action",title:"Action",align:"center",fixed:"right",hideInSearch:!0,render:(s,a)=>e.jsx(g,{children:e.jsx(y,{width:710,hasFooter:!1,destroyOnHidden:!0,className:"shopify",title:"Message Details",trigger:e.jsx(f,{icon:j}),children:e.jsx(D,{formData:a})})})}]})})};export{v as default};
