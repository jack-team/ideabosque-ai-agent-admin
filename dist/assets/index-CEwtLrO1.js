import{e as b,y as m,v as p,b as w,f as c,h as y,j as e,x as S,z as f,a1 as L}from"./libs-BaOSQqCJ.js";import{r as N,q as F}from"./index-C-v-jDs8.js";import{S as P}from"./index-Dw-maCiw.js";import{S as q}from"./index-DzZHfRYN.js";import{g as C}from"./contactProfiles-Cd-TsJr6.js";import"./generate-U-Zjqbd8.js";const A=()=>b(async()=>{var s;const a=await N(C);return((s=a==null?void 0:a.coordinationList)==null?void 0:s.coordinationList).map(r=>({agents:r.agents,label:r.coordinationName,value:r.coordinationUuid}))}),E="_container_18rc8_1",z="_contrl_18rc8_8",D="_preview_18rc8_15",I="_preview_box_18rc8_21",U="_placeholder_18rc8_22",o={container:E,contrl:z,preview:D,preview_box:I,placeholder:U},k="https://ideabosque-ai-chat.pages.dev",H=()=>{const[a]=m.useForm(),[l,s]=p(!1),[r,h]=p(),{data:d=[],loading:v}=A(),u=w.useMemo(()=>F.stringify({...r,mode:"iframe"}),[r]),x=c(async()=>{const n=await a.validateFields();h(n)}),g=c(()=>{s(!0)}),_=c(()=>{s(!1)});return y(g,[u]),e.jsx(S,{title:"Preview",className:"shopify full-screen",children:e.jsxs("div",{className:o.container,children:[e.jsx("div",{className:o.contrl,children:e.jsxs(m,{form:a,submitter:!1,className:o.form,children:[e.jsx(f,{label:"Coordination",name:"coordination",options:d,fieldProps:{loading:v,onChange:()=>{a.resetFields(["agent"])}},rules:[{required:!0}]}),e.jsx(L,{name:["coordination"],children:({coordination:n})=>{if(!n)return null;const i=d.find(t=>t.value===n),j=i==null?void 0:i.agents.map(t=>({label:t.agent_uuid,value:t.agent_uuid}));return e.jsx(f,{label:"Agent",name:"agent",options:j,rules:[{required:!0}]})}}),e.jsx("div",{className:o.submitter,children:e.jsx(P,{block:!0,type:"primary",size:"large",onClick:x,children:"Apply"})})]})}),e.jsx("div",{className:o.preview,children:e.jsx(q,{loading:l,children:e.jsx("div",{className:o.preview_box,children:r?e.jsx("iframe",{width:"100%",height:"100%",onLoad:_,src:`${k}?${u}`}):e.jsx("div",{className:o.placeholder,children:"Please select Coordination and Agency to preview."})})})})]})})};export{H as default};
