var o=Object.defineProperty;var p=(a,e,s)=>e in a?o(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var r=(a,e,s)=>p(a,typeof e!="symbol"?e+"":e,s);import{Q as u}from"./libs-C65raxhD.js";class c{constructor(e,s){r(this,"code");r(this,"message");this.code=`${e}`,this.message=s}}const d="https://yuqnw5pscc.execute-api.us-west-2.amazonaws.com/beta/core",l="DwW7QneAAH28UR6NspPYw4dU1PEhcNxl5M9H2xkT",m="openai",q=[d,m].join("/");class h{constructor(e){r(this,"request");r(this,"namespace");r(this,"baseUrl",q);r(this,"headers");r(this,"requestBefore",async e=>{if(this.headers){const s=await this.headers(e.headers);e.headers=Object.assign(e.headers,s)}return e});r(this,"parseSuccess",async e=>{const s=e.data;let n="10001";const i=s.errors;let t=s.error;return!t&&(i!=null&&i.length)&&(t=i[0].message),t?(typeof t!="string"&&(n=t.errorType,t=t.errorMessage),Promise.reject(new c(n,t))):Promise.resolve(s.query?s:s.data)});r(this,"parseError",e=>{if(e.response)return this.parseSuccess(e.response);{const s=e.status,n=e.message;return Promise.reject(new c(s,n))}});const{apiKey:s=l}=e;e.baseUrl&&(this.baseUrl=e.baseUrl),this.request=u.create({baseURL:this.baseUrl,headers:{"x-api-key":s}}),this.headers=e.headers,this.namespace=e.namespace,this.send=this.send.bind(this),this.graphql=this.graphql.bind(this),this.request.interceptors.request.use(this.requestBefore),this.request.interceptors.response.use(this.parseSuccess,this.parseError)}send(e){return this.request.post(`/${this.namespace}`,e)}graphql(e){return this.send(e)}}const f=new h({namespace:"ai_agent_build_graphql_query"}),w=new h({namespace:"ai_agent_core_graphql"});export{f as a,w as b};
