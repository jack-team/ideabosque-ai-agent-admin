import{y as t,j as e,a7 as d,p as c,w as u,x,P as h,S as p,at as j}from"./libs-BaOSQqCJ.js";import{I as g}from"./index-CjwgjA-6.js";import{a as y,f as l}from"./index-DTADpAFe.js";import{T as I}from"./index-DKUEh0z3.js";import{L as a}from"./index-CprjUkS9.js";import{g as f}from"./generate-BQHSwzam.js";import"./index-BMRnIUQf.js";const T=r=>{const{formData:n}=r,[s]=t.useForm();return e.jsxs(t,{form:s,submitter:!1,initialValues:n,style:{padding:"24px 0"},children:[e.jsx(t.Item,{label:"Function Name",name:"functionName",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Status",name:"status",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Time Spent",name:"timeSpent",children:e.jsx(a,{})}),e.jsx(d,{orientation:"left",children:"Arguments"}),e.jsxs(c,{className:"shopify",style:{marginBottom:24},children:[e.jsx(t.Item,{label:"Agent UUID",name:["arguments","agent_uuid"],children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Run UUID",name:["arguments","run_uuid"],children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Stream",name:["arguments","stream"],children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Thread UUID",name:["arguments","thread_uuid"],children:e.jsx(a,{})}),e.jsx(t.Item,{label:"User Query",name:["arguments","user_query"],children:e.jsx(a,{pre:!0})})]}),e.jsx(t.Item,{name:"notes",label:"Notes",children:e.jsx(a,{})}),e.jsx(t.Item,{name:"result",label:"Result",children:e.jsx(a,{})})]})},S=async r=>{const n=await f({type:"Query",name:"asyncTaskList"});return y.graphql({query:n,variables:r})},_=()=>{const r=u();return e.jsx(x,{title:"Async Tasks",onBack:()=>r(-1),children:e.jsx(h,{pagination:{pageSize:5},search:!1,options:!1,scroll:{x:"max-content"},rowKey:"asyncTaskUuid",className:"shopify",request:async n=>{const{current:s,pageSize:o,...m}=n,{asyncTaskList:i}=await S({limit:o,pageNumber:s,...m});return{total:i.total,data:i.asyncTaskList}},columns:[{title:"Async Task UUID",dataIndex:"asyncTaskUuid"},{title:"Function Name",dataIndex:"functionName"},{title:"Status",dataIndex:"status"},{title:"Time Spent",dataIndex:"timeSpent"},{title:"Create at",dataIndex:"createdAt",hideInSearch:!0,render:(n,s)=>l(s.createdAt)},{title:"Update at",dataIndex:"updatedAt",hideInSearch:!0,render:(n,s)=>l(s.updatedAt)},{width:"80px",key:"action",title:"Action",align:"center",hideInSearch:!0,fixed:"right",render:(n,s)=>e.jsx(p,{children:e.jsx(I,{width:620,hasFooter:!1,destroyOnHidden:!0,className:"shopify",title:"Async Task Details",trigger:e.jsx(g,{icon:j}),children:e.jsx(T,{formData:s})})})}]})})};export{_ as default};
