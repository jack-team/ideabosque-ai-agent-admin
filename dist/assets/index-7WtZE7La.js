import{r as f,k as S}from"./vendor-BASRo5BV.js";function T(e,t,{signal:n,edges:i}={}){let u,c=null;const h=i!=null&&i.includes("leading"),a=i==null||i.includes("trailing"),d=()=>{c!==null&&(e.apply(u,c),u=void 0,c=null)},s=()=>{a&&d(),g()};let o=null;const l=()=>{o!=null&&clearTimeout(o),o=setTimeout(()=>{o=null,s()},t)},w=()=>{o!==null&&(clearTimeout(o),o=null)},g=()=>{w(),u=void 0,c=null},b=()=>{d()},z=function(...p){if(n!=null&&n.aborted)return;u=this,c=p;const y=o==null;l(),h&&y&&d()};return z.schedule=l,z.cancel=g,z.flush=b,n==null||n.addEventListener("abort",g,{once:!0}),z}function R(e,t=0,n={}){typeof n!="object"&&(n={});const{leading:i=!1,trailing:u=!0,maxWait:c}=n,h=Array(2);i&&(h[0]="leading"),u&&(h[1]="trailing");let a,d=null;const s=T(function(...w){a=e.apply(this,w),d=null},t,{edges:h}),o=function(...w){return c!=null&&(d===null&&(d=Date.now()),Date.now()-d>=c)?(a=e.apply(this,w),d=Date.now(),s.cancel(),s.schedule(),a):(s.apply(this,w),a)},l=()=>(s.flush(),a);return o.cancel=s.cancel,o.flush=l,o}function D(e,t=0,n={}){const{leading:i=!0,trailing:u=!0}=n;return R(e,t,{leading:i,maxWait:t,trailing:u})}const P=(e,t,n,i)=>{switch(t){case"debounce":return R(e,n,i);case"throttle":return D(e,n,i);default:return e}},j=e=>{const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var i;return(i=t.current)===null||i===void 0?void 0:i.call(t,...n)},[])},B=e=>{const[t,n]=f.useState((e==null?void 0:e.current)||null);return e&&setTimeout(()=>{e.current!==t&&n(e.current)},0),{refProxy:f.useMemo(()=>new Proxy(u=>{u!==t&&n(u)},{get(u,c){return c==="current"?t:u[c]},set(u,c,h){return c==="current"?n(h):u[c]=h,!0}}),[t]),refElement:t,setRefElement:n}},C=(e,t)=>{var n,i;const u=(n=e.borderBoxSize)===null||n===void 0?void 0:n[0],c=(i=e.contentBoxSize)===null||i===void 0?void 0:i[0];return t==="border-box"&&u?{width:u.inlineSize,height:u.blockSize}:t==="content-box"&&c?{width:c.inlineSize,height:c.blockSize}:{width:e.contentRect.width,height:e.contentRect.height}};function A({skipOnMount:e=!1,refreshMode:t,refreshRate:n=1e3,refreshOptions:i,handleWidth:u=!0,handleHeight:c=!0,targetRef:h,observerOptions:a,onResize:d,disableRerender:s=!1}={}){const o=f.useRef(e),l=j(d),[w,g]=f.useState({width:void 0,height:void 0}),b=f.useRef({width:void 0,height:void 0}),{refProxy:z,refElement:p}=B(h),{box:y}=a||{},_=f.useCallback(m=>{if(!u&&!c)return;if(o.current){o.current=!1;return}const x=(v,r)=>u&&v.width!==r.width||c&&v.height!==r.height;m.forEach(v=>{const r=C(v,y);s?x(b.current,r)&&(b.current.width=r.width,b.current.height=r.height,l==null||l({width:r.width,height:r.height,entry:v})):g(k=>x(k,r)?(l==null||l({width:r.width,height:r.height,entry:v}),r):k)})},[u,c,o,y,s]),E=f.useCallback(P(_,t,n,i),[_,t,n,i]);return f.useEffect(()=>{let m;if(p)try{m=new window.ResizeObserver(E),m.observe(p,a)}catch(x){console.warn("ResizeObserver not supported or failed to initialize:",x)}else(w.width||w.height)&&(l==null||l({width:null,height:null,entry:null}),b.current.width=void 0,b.current.height=void 0,s||g({width:void 0,height:void 0}));return()=>{var x,v,r;(x=m==null?void 0:m.disconnect)===null||x===void 0||x.call(m),(r=(v=E).cancel)===null||r===void 0||r.call(v)}},[E,p]),Object.assign({ref:z},s?b.current:w)}const F="_container_p290y_1",I={container:F},N=()=>{const{ref:e}=A();return S.jsx("div",{className:I.container,ref:e,children:"demo"})};export{N as default};
