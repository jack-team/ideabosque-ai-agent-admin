import{v as t,j as e,a5 as i,n as u,x as p,b as h,e as f,t as g,P as j,S as b,B as I}from"./libs-Da1xhxe8.js";import{c as y}from"./index-cDxTFrDX.js";import{T as C}from"./index-azhqWN_S.js";import{f as m}from"./index-WkG41BTg.js";import{L as a}from"./index-CmKNv9P4.js";import{b as T}from"./generate-BbxGqW4z.js";import"./index-DOlX-KTV.js";const U=n=>{const{formData:l}=n,[o]=t.useForm();return e.jsxs(t,{form:o,disabled:!0,submitter:!1,layout:"horizontal",labelAlign:"left",initialValues:l,style:{padding:"24px 0"},children:[e.jsx(t.Item,{label:"Role",name:"role",labelCol:{flex:"166px"},children:e.jsx(a,{})}),e.jsx(i,{orientation:"left",children:"Message"}),e.jsx(t.Item,{name:"message",children:e.jsx(a,{pre:!0})}),e.jsx(i,{orientation:"left",children:"Run"}),e.jsxs(u,{className:"shopify",children:[e.jsx(t.Item,{label:"Prompt Tokens",name:["run","prompt_tokens"],labelCol:{flex:"150px"},children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Completion Tokens",name:["run","completion_tokens"],labelCol:{flex:"150px"},children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Total Tokens",name:["run","total_tokens"],labelCol:{flex:"150px"},children:e.jsx(a,{})}),e.jsx(i,{orientation:"left",children:"Thread"}),e.jsx(t.Item,{label:"Agent UUID",name:["run","thread","agent_uuid"],labelCol:{flex:"150px"},children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Thread UUID",name:["run","thread","thread_uuid"],labelCol:{flex:"150px"},children:e.jsx(a,{})}),e.jsx(t.Item,{label:"User ID",name:["run","thread","user_id"],labelCol:{flex:"150px"},children:e.jsx(a,{})})]})]})},_=async n=>{const l=await T({type:"Query",name:"messageList"});return y.graphql({query:l,variables:n})},w=()=>{const n=p(),l=h.useRef(null),o=f(()=>{var s;(s=l.current)==null||s.reload()});return e.jsx(g,{title:"Messages",onBack:()=>n(-1),children:e.jsx(j,{actionRef:l,search:!1,options:!1,rowKey:"questionGroupUuid",className:"shopify",request:async s=>{const{current:r,pageSize:c,...x}=s,{messageList:d}=await _({limit:c,pageNumber:r,...x});return{total:d.total,data:d.messageList}},columns:[{title:"Message UUID",dataIndex:"messageUuid"},{title:"Role",dataIndex:"role"},{title:"Create at",dataIndex:"createdAt",hideInSearch:!0,render:(s,r)=>m(r.createdAt)},{title:"Update at",dataIndex:"updatedAt",hideInSearch:!0,render:(s,r)=>m(r.updatedAt)},{width:"120px",key:"action",title:"Action",align:"center",hideInSearch:!0,render:(s,r)=>e.jsx(b,{children:e.jsx(C,{width:640,hasFooter:!1,destroyOnHidden:!0,className:"shopify",title:"Message",trigger:e.jsx(I,{size:"small",className:"shopify",children:"View"}),children:e.jsx(U,{formData:r,onSuccess:o})})})}]})})};export{w as default};
