import{e as b,y as m,v as f,b as y,f as l,h as S,j as e,x as L,z as g,a1 as N}from"./libs-BaOSQqCJ.js";import{g as F,r as P,q}from"./index-CePQT19d.js";import{S as C}from"./index-BHduNzk7.js";import{S as E}from"./index-DebROj1t.js";import{g as A}from"./contactProfiles-DhR_v9Kt.js";import"./generate-CrCzx0rs.js";const I=()=>b(async()=>{var n;const o=await P(A);return((n=o==null?void 0:o.coordinationList)==null?void 0:n.coordinationList).map(r=>({agents:r.agents,label:r.coordinationName,value:r.coordinationUuid}))}),z=()=>F(),D="_container_18rc8_1",U="_contrl_18rc8_8",k="_preview_18rc8_15",B="_preview_box_18rc8_21",M="_placeholder_18rc8_22",a={container:D,contrl:U,preview:k,preview_box:B,placeholder:M},R="https://ideabosque-ai-chat.pages.dev",O=()=>{const[o]=m.useForm(),d=z(),[n,r]=f(!1),[i,h]=f(),{data:p=[],loading:v}=I(),u=y.useMemo(()=>q.stringify({...i,mode:"preview"}),[i]),x=l(async()=>{const s=await o.validateFields();h({...s,endpointId:d})}),_=l(()=>{r(!0)}),j=l(()=>{r(!1)});return S(_,[u]),e.jsx(L,{title:"Preview",className:"shopify full-screen",children:e.jsxs("div",{className:a.container,children:[e.jsx("div",{className:a.contrl,children:e.jsxs(m,{form:o,submitter:!1,className:a.form,children:[e.jsx(g,{label:"Coordination",name:"coordination",options:p,fieldProps:{loading:v,onChange:()=>{o.resetFields(["agent"])}},rules:[{required:!0}]}),e.jsx(N,{name:["coordination"],children:({coordination:s})=>{if(!s)return null;const c=p.find(t=>t.value===s),w=c==null?void 0:c.agents.map(t=>({label:t.agent_uuid,value:t.agent_uuid}));return e.jsx(g,{label:"Agent",name:"agent",options:w,rules:[{required:!0}]})}}),e.jsx("div",{className:a.submitter,children:e.jsx(C,{block:!0,type:"primary",size:"large",onClick:x,children:"Apply"})})]})}),e.jsx("div",{className:a.preview,children:e.jsx(E,{loading:n,children:e.jsx("div",{className:a.preview_box,children:i?e.jsx("iframe",{width:"100%",height:"100%",allow:"geolocation;",onLoad:j,src:`${R}?${u}`}):e.jsx("div",{className:a.placeholder,children:"Please select Coordination and Agency to preview."})})})})]})})};export{O as default};
