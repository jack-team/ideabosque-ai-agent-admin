import{y as h,A as y,j as e,W as l,J as G,w as z,b as j,h as p,x as k,P as U,S as x,D as A,L as B,B as f}from"./libs-NYaGYdqa.js";import{f as g}from"./index-C4UdXftX.js";import{T as P}from"./index-D4a93ff3.js";import{I as w}from"./index-CCG6JdoO.js";import{i as S,d as D,g as N}from"./wizard-DHJ88mXH.js";import{b,u as C}from"./hooks-BG6Bwwch.js";import"./index-vo-noMjD.js";import"./generate-BEV_c4eL.js";const v=a=>({...a,updatedBy:"Admin"}),F=a=>{const[s]=h.useForm(),{message:o}=y.useApp(),[i]=b();return C(async()=>{var n;const d=await s.validateFields(),c=v(d);try{await S(c),i(),(n=a.onSuccess)==null||n.call(a),o.success("UI Block Group created successfully.")}catch{o.error("Failed to create UI Block Group.")}}),e.jsxs(h,{form:s,submitter:!1,style:{padding:"24px 0 0 0"},children:[e.jsx(l,{hidden:!0,name:"wizardUuid"}),e.jsx(l,{label:"UI Block Group name",name:"wizardGroupName",rules:[{required:!0}]}),e.jsx(G,{label:"UI Block Group description",name:"wizardGroupDescription",rules:[{required:!0}]}),e.jsx(l,{label:"Weight",name:"weight",fieldProps:{type:"number"},rules:[{required:!0}]})]})},O=()=>{const{modal:a,message:s}=y.useApp(),o=z(),i=j.useRef(null),d=p(()=>{var r;(r=i.current)==null||r.reload()}),c=p(r=>{o(`/wizard-group/${r}`)}),n=p(r=>{a.confirm({title:"Are you sure you want to delete?",okText:"Delete",okButtonProps:{danger:!0,className:"shopify"},cancelButtonProps:{className:"shopify gray"},onOk:async()=>{try{await D({wizardGroupUuid:r.wizardGroupUuid}),d(),s.success("Deletion successful.")}catch(t){return s.error("Deletion failed."),Promise.reject(t)}}})});return e.jsx(k,{title:"UI Block Groups",extra:e.jsxs(x,{size:16,children:[e.jsx(f,{className:"shopify gray",onClick:()=>o("/wizards"),children:"Blocks"}),e.jsx(P,{width:600,className:"shopify",title:"Create new UI Block Group",trigger:e.jsx(f,{className:"shopify",type:"primary",children:"Create new UI Block Group"}),children:e.jsx(F,{})})]}),children:e.jsx(U,{actionRef:i,search:!1,options:!1,scroll:{x:"max-content"},rowKey:"agentUuid",className:"shopify",request:async r=>{const{current:t,pageSize:u,...I}=r,{wizardGroupList:m}=await N({limit:u,pageNumber:t,...I});return{total:m.total,data:m.wizardGroupList}},columns:[{title:"UI Block Group name",dataIndex:"wizardGroupName"},{title:"UI Block Group UUID",dataIndex:"wizardGroupUuid",hideInSearch:!0},{title:"Weight",dataIndex:"weight",hideInSearch:!0},{title:"Create at",dataIndex:"createdAt",hideInSearch:!0,render:(r,t)=>g(t.createdAt)},{title:"Last updated",dataIndex:"updatedAt",hideInSearch:!0,render:(r,t)=>g(t.updatedAt)},{width:"100px",key:"action",title:"Action",fixed:"right",hideInSearch:!0,render:(r,t)=>{const u=t.wizardGroupUuid;return e.jsxs(x,{children:[e.jsx(w,{icon:A,onClick:()=>c(u)}),e.jsx(w,{icon:B,onClick:()=>n(t)})]})}}]})})};export{O as default};
