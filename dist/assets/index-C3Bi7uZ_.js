import{e as w,az as y,y as m,v as f,b as S,f as d,h as L,j as e,x as N,z as h,a1 as F}from"./libs-BF3diSH3.js";import{r as P,q}from"./index-C5iRsA-N.js";import{S as C}from"./index-BCRILwkD.js";import{S as A}from"./index-CQN80jle.js";import{g as z}from"./contactProfiles-NANBWGjI.js";import"./generate-uIsxLL3f.js";const E=()=>w(async()=>{var t;const o=await P(z);return((t=o==null?void 0:o.coordinationList)==null?void 0:t.coordinationList).map(r=>({agents:r.agents,label:r.coordinationName,value:r.coordinationUuid}))}),B="_container_18rc8_1",D="_contrl_18rc8_8",I="_preview_18rc8_15",U="_preview_box_18rc8_21",k="_placeholder_18rc8_22",a={container:B,contrl:D,preview:I,preview_box:U,placeholder:k},M="https://ideabosque-ai-chat.pages.dev",K=()=>{const o=y(),[s]=m.useForm(),[t,r]=f(!1),[c,g]=f(),{data:p=[],loading:v}=E(),u=S.useMemo(()=>q.stringify({...c,mode:"iframe"}),[c]),x=d(async()=>{const n=await s.validateFields();await o.pos.location(),g(n)}),_=d(()=>{r(!0)}),j=d(()=>{r(!1)});return L(_,[u]),e.jsx(N,{title:"Preview",className:"shopify full-screen",children:e.jsxs("div",{className:a.container,children:[e.jsx("div",{className:a.contrl,children:e.jsxs(m,{form:s,submitter:!1,className:a.form,children:[e.jsx(h,{label:"Coordination",name:"coordination",options:p,fieldProps:{loading:v,onChange:()=>{s.resetFields(["agent"])}},rules:[{required:!0}]}),e.jsx(F,{name:["coordination"],children:({coordination:n})=>{if(!n)return null;const l=p.find(i=>i.value===n),b=l==null?void 0:l.agents.map(i=>({label:i.agent_uuid,value:i.agent_uuid}));return e.jsx(h,{label:"Agent",name:"agent",options:b,rules:[{required:!0}]})}}),e.jsx("div",{className:a.submitter,children:e.jsx(C,{block:!0,type:"primary",size:"large",onClick:x,children:"Apply"})})]})}),e.jsx("div",{className:a.preview,children:e.jsx(A,{loading:t,children:e.jsx("div",{className:a.preview_box,children:c?e.jsx("iframe",{width:"100%",height:"100%",onLoad:j,src:`${M}?${u}`}):e.jsx("div",{className:a.placeholder,children:"Please select Coordination and Agency to preview."})})})})]})})};export{K as default};
